<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>register page</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/css/Registration-Form-with-Photo.css">
    <link rel="stylesheet" href="../assets/css/stylesRegister.css">
</head>

<body>
<section class="register-photo">
    <div class="form-container"><div><img src="../assets/img/car4.jpeg" width=500 height=900></div>
        <form method="post">
            <h2 class="text-center"><strong>Create</strong> an account.</h2>
            <div class="form-group mb-3"><input class="form-control" type="text" name="name" placeholder="Username" /></div>
            <div class="form-group mb-3"><input class="form-control" type="email" name="email" placeholder="Email"></div>
            <div class="form-group mb-3"><input type="password" class="form-control" name="password" placeholder="Password" /></div>

            <!--
            <div class="form-group mb-3"><input class="form-control" type="password" name="password-repeat" placeholder="Password (repeat)"></div>

            <div class="mb-3">
                <div class="form-check"><label class="form-check-label"><input class="form-check-input" type="checkbox">I agree to the license terms.</label></div>
            </div>
            -->
            <div class="mb-3"><button class="btn btn-primary d-block w-100" type="submit">Sign Up</button></div>
            <a class="already" href="/acrm/login.html">You already have an account? Login here.</a>
        </form>
    </div>
</section>
<div class="modal fade" role="dialog" tabindex="-1" id="error-modal">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #e85e6c;">
                <h1 class="text-white">Ooops! Something went wrong</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-truncate text-primary" id="error-text"></p>
            </div>
            <div class="modal-footer"><button class="btn btn-warning d-block w-100" type="button" data-bs-dismiss="modal">Try Again</button></div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="../assets/js/app.js"></script>
<script src="../assets/js/webapp.js"></script>

<!-- Andreas M script from register -->
<script>
    $(document).ready(function () {
        $("#form").submit(function (event) {
            register($('input[name=name]').val(), $('input[name=email]').val(), $('input[name=password]').val(), function (result) {
                window.location.replace("../");
            }, function (error) {
                $("#error-modal").modal('show');
                $("#error-text").text(error);
            });
            event.preventDefault();
        });
    });
</script>
<!-- Script for repeat password verification
<script>
    function verifyPassword() {
        let pass1 = document.getElementsByName("password").value;
        let pass2 = document.getElementsByName("password-repeat").value;
        let match = true;
        if (pass1 != pass2) {
            //alert("Passwords Do not match");
            document.getElementById("new_password").style.borderColor = "#ff0000";
            document.getElementById("verifyPassword").style.borderColor = "#ff0000";
            match = false;
        }
        else {
            alert("Passwords match.");
        }
        return match;
    }
</script>
-->

</body>

</html>